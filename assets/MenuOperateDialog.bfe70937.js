var e=Object.defineProperty,a=Object.getOwnPropertySymbols,l=Object.prototype.hasOwnProperty,o=Object.prototype.propertyIsEnumerable,t=(a,l,o)=>l in a?e(a,l,{enumerable:!0,configurable:!0,writable:!0,value:o}):a[l]=o;import{s as d,u as n,C as u,A as m,r,o as i,c as p,w as s,a as c,F as g,e as f,b as D}from"./vendor.7002d699.js";const b={name:"MenuOperateDialog",props:{getMenuList:{required:!0,type:Function},menuList:{type:Array,default:()=>[]}},setup(e){const{proxy:r}=m();return((e,d)=>{for(var n in d||(d={}))l.call(d,n)&&t(e,n,d[n]);if(a)for(var n of a(d))o.call(d,n)&&t(e,n,d[n]);return e})({},((e,a)=>{const l=d("$api"),o=n({parentId:[],menuType:1,menuName:"",icon:"",path:"",component:"",menuState:1,menuCode:"",action:"add",title:"新增菜单",showDialog:!1}),t=(a,l,t)=>{"add"!==l&&"edit"!==l||(o.action=l,"edit"===l?o.title="编辑菜单":"add"===l&&(o.title=t?"添加菜单":"新增菜单")),o.showDialog=a,e.$nextTick((()=>{e.$refs.operateForm.resetFields(),void 0!==t&&("add"===l&&(o.parentId=[...t.parentId,t._id].filter((e=>e))),"edit"===l&&(o._id=t._id,o.parentId=t.parentId.filter((e=>e)),o.menuType=t.menuType,o.menuName=t.menuName,o.icon=t.icon,o.path=t.path,o.component=t.component,o.menuState=t.menuState,o.menuCode=t.menuCode))}))};return{dialogData:o,dialogDataRules:{menuName:{trigger:"blur",required:!0,message:"请输入菜单名称"}},handleToggleDialogShow:t,handleSubmitMenuOperate:()=>{e.$refs.operateForm.validate((async d=>{if(d){const d=u(o);!0===await l.menuOperate(d)?(t(!1),a(),e.$message.success(`${o.title} -> [${d.menuName}] 成功！`)):e.$message.warning(`${o.title} -> [${d.menuName}] 失败！`)}}))}}})(r,e.getMenuList))}},h=c("span",null,"留空，则默认创建一级菜单",-1),V=D("页面菜单"),y=D("普通按钮"),_=D("停用"),w=D("启用"),S=D("取 消"),T=D("确 定");b.render=function(e,a,l,o,t,d){const n=r("el-cascader"),u=r("el-form-item"),m=r("el-radio"),D=r("el-radio-group"),b=r("el-input"),C=r("el-form"),N=r("el-button"),O=r("el-dialog");return i(),p(O,{modelValue:e.dialogData.showDialog,"onUpdate:modelValue":a[10]||(a[10]=a=>e.dialogData.showDialog=a),title:e.dialogData.title},{footer:s((()=>[c(N,{onClick:a[9]||(a[9]=a=>e.handleToggleDialogShow(!1))},{default:s((()=>[S])),_:1}),c(N,{type:"primary",onClick:e.handleSubmitMenuOperate},{default:s((()=>[T])),_:1},8,["onClick"])])),default:s((()=>[c(C,{model:e.dialogData,rules:e.dialogDataRules,ref:"operateForm","label-position":"right","label-width":"6em"},{default:s((()=>[c(u,{label:"父级菜单",prop:"parentId"},{default:s((()=>[c(n,{modelValue:e.dialogData.parentId,"onUpdate:modelValue":a[1]||(a[1]=a=>e.dialogData.parentId=a),options:l.menuList,props:{label:"menuName",value:"_id",checkStrictly:!0,expandTrigger:"hover",disabled:"menuCode"},placeholder:"请选择父级菜单",clearable:""},null,8,["modelValue","options"]),h])),_:1}),c(u,{label:"菜单类型",prop:"menuType"},{default:s((()=>[c(D,{modelValue:e.dialogData.menuType,"onUpdate:modelValue":a[2]||(a[2]=a=>e.dialogData.menuType=a)},{default:s((()=>[c(m,{label:1},{default:s((()=>[V])),_:1}),c(m,{label:2},{default:s((()=>[y])),_:1})])),_:1},8,["modelValue"])])),_:1}),c(u,{label:"菜单名称",prop:"menuName"},{default:s((()=>[c(b,{modelValue:e.dialogData.menuName,"onUpdate:modelValue":a[3]||(a[3]=a=>e.dialogData.menuName=a),placeholder:"请输入菜单名称",autocomplete:"off"},null,8,["modelValue"])])),_:1}),1===e.dialogData.menuType?(i(),p(g,{key:0},[c(u,{label:"菜单图标",prop:"icon"},{default:s((()=>[c(b,{modelValue:e.dialogData.icon,"onUpdate:modelValue":a[4]||(a[4]=a=>e.dialogData.icon=a),placeholder:"请输入菜单图标",autocomplete:"off"},null,8,["modelValue"])])),_:1}),c(u,{label:"路由地址",prop:"path"},{default:s((()=>[c(b,{modelValue:e.dialogData.path,"onUpdate:modelValue":a[5]||(a[5]=a=>e.dialogData.path=a),placeholder:"请输入菜单跳转的路由地址",autocomplete:"off"},null,8,["modelValue"])])),_:1}),c(u,{label:"组件路径",prop:"component"},{default:s((()=>[c(b,{modelValue:e.dialogData.component,"onUpdate:modelValue":a[6]||(a[6]=a=>e.dialogData.component=a),placeholder:"请输入菜单跳转的组件路径",autocomplete:"off"},null,8,["modelValue"])])),_:1})],64)):2===e.dialogData.menuType?(i(),p(u,{key:1,label:"权限标识",prop:"menuCode"},{default:s((()=>[c(b,{modelValue:e.dialogData.menuCode,"onUpdate:modelValue":a[7]||(a[7]=a=>e.dialogData.menuCode=a),placeholder:"请输入按钮权限标识",autocomplete:"off"},null,8,["modelValue"])])),_:1})):f("",!0),c(u,{label:"菜单状态",prop:"menuState"},{default:s((()=>[c(D,{modelValue:e.dialogData.menuState,"onUpdate:modelValue":a[8]||(a[8]=a=>e.dialogData.menuState=a)},{default:s((()=>[c(m,{label:0},{default:s((()=>[_])),_:1}),c(m,{label:1},{default:s((()=>[w])),_:1})])),_:1},8,["modelValue"])])),_:1})])),_:1},8,["model","rules"])])),_:1},8,["modelValue","title"])};export default b;
