var e=Object.defineProperty,a=Object.getOwnPropertySymbols,l=Object.prototype.hasOwnProperty,o=Object.prototype.propertyIsEnumerable,t=(a,l,o)=>l in a?e(a,l,{enumerable:!0,configurable:!0,writable:!0,value:o}):a[l]=o;import{s as d,B as n,z as u,r as m,o as i,c as r,w as p,a as s,F as c,e as g,b as f}from"./vendor.9586058d.js";const D={name:"MenuOperateDialog",props:{getMenuList:{required:!0,type:Function},menuList:{type:Array,default:()=>[]}},setup(e){const{ctx:m}=u();return((e,d)=>{for(var n in d||(d={}))l.call(d,n)&&t(e,n,d[n]);if(a)for(var n of a(d))o.call(d,n)&&t(e,n,d[n]);return e})({},((e,a)=>{const l=d({parentId:[],menuType:1,menuName:"",icon:"",path:"",component:"",menuState:1,menuCode:"",action:"add",title:"新增菜单",showDialog:!1}),o=(a,o,t)=>{"add"!==o&&"edit"!==o||(l.action=o,"edit"===o?l.title="编辑菜单":"add"===o&&(l.title=t?"添加菜单":"新增菜单")),l.showDialog=a,e.$nextTick((()=>{e.$refs.operateForm.resetFields(),void 0!==t&&("add"===o&&(l.parentId=[...t.parentId,t._id].filter((e=>e))),"edit"===o&&(l._id=t._id,l.parentId=t.parentId.filter((e=>e)),l.menuType=t.menuType,l.menuName=t.menuName,l.icon=t.icon,l.path=t.path,l.component=t.component,l.menuState=t.menuState,l.menuCode=t.menuCode))}))};return{dialogData:l,dialogDataRules:{menuName:{trigger:"blur",required:!0,message:"请输入菜单名称"}},handleToggleDialogShow:o,handleSubmitMenuOperate:()=>{e.$refs.operateForm.validate((async t=>{if(t){const t=n(l);!0===await e.$api.menuOperate(t)?(o(!1),a(),e.$message.success(`${l.title} -> [${t.menuName}] 成功！`)):e.$message.warning(`${l.title} -> [${t.menuName}] 失败！`)}}))}}})(m,e.getMenuList))}},b=s("span",null,"留空，则默认创建一级菜单",-1),h=f("页面菜单"),V=f("普通按钮"),y=f("停用"),_=f("启用"),w=f("取 消"),S=f("确 定");D.render=function(e,a,l,o,t,d){const n=m("el-cascader"),u=m("el-form-item"),f=m("el-radio"),D=m("el-radio-group"),T=m("el-input"),C=m("el-form"),N=m("el-button"),O=m("el-dialog");return i(),r(O,{modelValue:e.dialogData.showDialog,"onUpdate:modelValue":a[10]||(a[10]=a=>e.dialogData.showDialog=a),title:e.dialogData.title},{footer:p((()=>[s(N,{onClick:a[9]||(a[9]=a=>e.handleToggleDialogShow(!1))},{default:p((()=>[w])),_:1}),s(N,{type:"primary",onClick:e.handleSubmitMenuOperate},{default:p((()=>[S])),_:1},8,["onClick"])])),default:p((()=>[s(C,{model:e.dialogData,rules:e.dialogDataRules,ref:"operateForm","label-position":"right","label-width":"6em"},{default:p((()=>[s(u,{label:"父级菜单",prop:"parentId"},{default:p((()=>[s(n,{modelValue:e.dialogData.parentId,"onUpdate:modelValue":a[1]||(a[1]=a=>e.dialogData.parentId=a),options:l.menuList,props:{label:"menuName",value:"_id",checkStrictly:!0,expandTrigger:"hover",disabled:"menuCode"},placeholder:"请选择父级菜单",clearable:""},null,8,["modelValue","options"]),b])),_:1}),s(u,{label:"菜单类型",prop:"menuType"},{default:p((()=>[s(D,{modelValue:e.dialogData.menuType,"onUpdate:modelValue":a[2]||(a[2]=a=>e.dialogData.menuType=a)},{default:p((()=>[s(f,{label:1},{default:p((()=>[h])),_:1}),s(f,{label:2},{default:p((()=>[V])),_:1})])),_:1},8,["modelValue"])])),_:1}),s(u,{label:"菜单名称",prop:"menuName"},{default:p((()=>[s(T,{modelValue:e.dialogData.menuName,"onUpdate:modelValue":a[3]||(a[3]=a=>e.dialogData.menuName=a),placeholder:"请输入菜单名称",autocomplete:"off"},null,8,["modelValue"])])),_:1}),1===e.dialogData.menuType?(i(),r(c,{key:0},[s(u,{label:"菜单图标",prop:"icon"},{default:p((()=>[s(T,{modelValue:e.dialogData.icon,"onUpdate:modelValue":a[4]||(a[4]=a=>e.dialogData.icon=a),placeholder:"请输入菜单图标",autocomplete:"off"},null,8,["modelValue"])])),_:1}),s(u,{label:"路由地址",prop:"path"},{default:p((()=>[s(T,{modelValue:e.dialogData.path,"onUpdate:modelValue":a[5]||(a[5]=a=>e.dialogData.path=a),placeholder:"请输入菜单跳转的路由地址",autocomplete:"off"},null,8,["modelValue"])])),_:1}),s(u,{label:"组件路径",prop:"component"},{default:p((()=>[s(T,{modelValue:e.dialogData.component,"onUpdate:modelValue":a[6]||(a[6]=a=>e.dialogData.component=a),placeholder:"请输入菜单跳转的组件路径",autocomplete:"off"},null,8,["modelValue"])])),_:1})],64)):2===e.dialogData.menuType?(i(),r(u,{key:1,label:"权限标识",prop:"menuCode"},{default:p((()=>[s(T,{modelValue:e.dialogData.menuCode,"onUpdate:modelValue":a[7]||(a[7]=a=>e.dialogData.menuCode=a),placeholder:"请输入按钮权限标识",autocomplete:"off"},null,8,["modelValue"])])),_:1})):g("",!0),s(u,{label:"菜单状态",prop:"menuState"},{default:p((()=>[s(D,{modelValue:e.dialogData.menuState,"onUpdate:modelValue":a[8]||(a[8]=a=>e.dialogData.menuState=a)},{default:p((()=>[s(f,{label:0},{default:p((()=>[y])),_:1}),s(f,{label:1},{default:p((()=>[_])),_:1})])),_:1},8,["modelValue"])])),_:1})])),_:1},8,["model","rules"])])),_:1},8,["modelValue","title"])};export default D;
